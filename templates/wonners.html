{% extends 'index_template.html' %}

{% block content %}

	<div class="container-fluid pt-5">
		<div class="row">
			<div class="col text-center">
				<h1 class="display-1">Tabla de resultados</h1>
				<h1 class="mt-5">Partida: {{ game.start_name }} <i class="bi bi-arrow-right"></i> {{ game.end_name }}</h1>
				{% if attempts %}
				<h3 class="mt-5 mb-5">Tabla de intentos</h1>
				<table class="table table-dark table-striped">
					<thead>
						<tr>
							<th scope="col">Posición</th>
							<th scope="col">Nombre</th>
							<th scope="col"># Clicks</th>
							<th scope="col">Tiempo</th>
						</tr>
					</thead>
					<tbody>
						{% for att in attempts %}
						<tr>
							<th scope="row">{{ loop.index }}</th>
							<td>{{ att.name if att.name else "Invitado" }}</td>
							<td>{{ att.clicks }}</td>
							<td>{{ att.time.m }}m, {{ att.time.s }}s, {{ att.time.ms }}ms</td>
						</tr>
						{% endfor %}
					</tbody>
				</table>
				<div class="row mt-5">
					<div class="col text-center">
						<h3>¿Crees que puedes mejorar?</h3>
						<a href="{{ url_for('ingame', game_id=game) }}" type="button" class="btn btn-warning">Jugar Nuevamente</a>
					</div>
					<div class="col text-center">
						<h3>¿Crear otra partida?</h3>
						<a href="{{ url_for('newgame') }}" type="button" class="btn btn-warning">Nueva partida</a>
					</div>
				</div>
				{% else %}
					<h1 class="mt-5">No se han realizado intentos para esta partida. <a href="{{ url_for('ingame', game_id=code) }}"> Se el primero</h1>
				{% endif %}
			</div>
		</div>
	</div>

{% endblock content %}